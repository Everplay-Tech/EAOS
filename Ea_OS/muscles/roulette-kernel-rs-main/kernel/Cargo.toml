[package]
name = "roulette-kernel"
version = "0.1.0"
edition = "2021"
license = "Proprietary"
authors = ["Everplay-Tech"]
description = "Roulette Kernel: Verified braid CPU operating system"
repository = "none"
publish = false

[dependencies]
roulette-core = { path = "../crates/roulette-core", default-features = false, features = ["no_panic_handler"] }
bootloader = "0.9"
spin = "0.9"
lazy_static = { version = "1.4", features = ["spin_no_std"] }
x86_64 = "0.14"
uart_16550 = "0.3"
pic8259 = "0.11"

[[bin]]
name = "roulette-kernel"
path = "src/main.rs"
test = false

[profile.dev]
panic = "abort"

[profile.release]
panic = "abort"

[package.metadata.bootimage]
build-command = ["build"]
run-command = [
    "qemu-system-x86_64",
    "-drive", "format=raw,file={}",
    "-serial", "stdio",
    "-display", "gtk"
]